<div class="flex flex-col justify-between md:flex-row md:items-center px-4 pt-4 pb-12 bg-primary-500">
  <%= render partial: 'shared/page_name', locals: { title: @list.name } %>

  <div class="fixed bottom-12 -ml-4 w-full flex justify-center md:relative md:bottom-0 md:right-0 md:w-auto md:flex-col md:items-start md:gap-4">
    <%= link_to t('.btn-primary'), list_path(@list), data: { turbo_method: :delete} , class: "inline-block px-4 py-2 w-4/5 md:w-auto text-center text-white md:text-primary-500 bg-primary-500 md:bg-white rounded-md transition-colors duration-300 transform hover:bg-primary-400 md:hover:bg-slate-100 focus:outline-none focus:ring focus:ring-primary-300 focus:ring-opacity-80" %>
  </div>
</div>

<div class="p-4 relative -top-8 rounded-[24px] bg-white">
  <div class="overflow-hidden">
    <div class="mb-4 px-4 py-3 bg-slate-100 rounded-md">
      <%= simple_form_for [@list, @list_item], html: { class: "flex items-center" } do |f| %>
        <button type="submit">
          <svg data-slot="icon" class="w-6 h-6" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path>
          </svg>
        </button>
        <%= f.input :name, label: false, wrapper: :inline_form, placeholder: t('.add-placeholder') %>
      <% end %>
    </div>

    <div class="rounded-md overflow-hidden">
      <% @list.list_items.order(:done).each do |list_item| %>
        <div class="flex items-center px-4 py-3 border-b border-slate-200 bg-slate-100 hover:bg-slate-200"
            data-controller="list-item"
            data-list-item-id-value="<%= list_item.id %>"
            data-list-item-path-value="<%= "#{params[:locale]}/list_items" %>">
          <% if list_item.done %>
            <button type="button" data-action="click->list-item#undone" data-list-item-target="button">
              <svg data-slot="icon" class="w-6 h-6 text-primary-500" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5"></path>
              </svg>
            </button>
            <p class="mx-4 grow text-primary-300 line-through" data-list-item-target="name">
              <%= list_item.name %>
            </p>
          <% else %>
            <button type="button" data-action="click->list-item#done" data-list-item-target="button">
              <svg data-slot="icon" class="w-6 h-6 text-primary-500" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"></path>
              </svg>
            </button>
            <p class="mx-4 grow text-primary-500" data-list-item-target="name">
              <%= list_item.name %>
            </p>
          <% end %>
          <%= link_to list_item_path(list_item), data: {turbo_method: :delete} do %>
            <svg data-slot="icon" class="w-6 h-6 text-gray-500" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path>
            </svg>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
