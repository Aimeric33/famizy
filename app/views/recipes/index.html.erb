<div class="flex flex-col justify-between md:flex-row md:items-center">
  <%= render partial: 'shared/page_name', locals: { title: t('.title') } %>

  <div class="fixed bottom-12 right-4 md:relative md:bottom-0 md:right-0 md:flex md:flex-col md:items-start md:gap-4">
    <%= link_to t('.btn-primary'), new_family_recipe_path(params[:family_id]), class: "inline-block px-4 py-2 text-white bg-primary-500 rounded-md transition-colors duration-300 transform hover:bg-primary-400 focus:outline-none focus:ring focus:ring-primary-300 focus:ring-opacity-80" %>
  </div>
</div>

<div class="mt-8 grid grid-cols-1 gap-4 auto-rows-fr md:grid-cols-4">
  <% @recipes.each do |recipe| %>
    <%= link_to recipe_path(recipe) do %>
      <div class="w-full p-4 bg-secondary-500 rounded-md flex flex-row gap-4 md:flex-col">
        <div>
          <% if recipe.photo.attached? %>
            <%= cl_image_tag recipe.photo, class: "w-24 h-full md:w-full md:h-40 object-cover rounded-md" %>
          <% else %>
            <%= image_tag "image-placeholder.svg", class: "w-24 h-full md:w-full md:h-40 object-cover rounded-md" %>
          <% end %>
        </div>

        <div class="flex flex-col gap-4">
          <h2 class="text-lg md:text-xl text-gray-800"><%= recipe.name %></h2>
          <div class="space-y-2">
            <p>
              <span class="px-3 py-1 text-sm text-primary-500 bg-primary-50 rounded-md">
                <%= Recipe.human_attribute_name("recipe_type.#{recipe.recipe_type}") %>
              </span>
            </p>
            <p class="text-xs text-gray-500"><%= t('.nb_ingredients', count: recipe.ingredients.count) %></p>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <% if @recipes.empty? %>
    <div class="p-4 bg-secondary-500 rounded-md">
      <p class="text-gray-500">
        <%= t('.no-recipes') %>
      </p>
    </div>
  <% end %>
</div>
