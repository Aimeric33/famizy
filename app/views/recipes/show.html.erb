<div class="flex flex-col justify-between md:flex-row md:items-center">
  <%= render partial: 'shared/page_name', locals: { title: @recipe.name } %>

  <div class="fixed bottom-12 right-4 md:relative md:bottom-0 md:right-0 md:flex md:flex-col md:items-start md:gap-4">
    <%= link_to t('.btn-primary'), edit_family_recipe_path(@recipe), class: "inline-block px-4 py-2 text-white bg-primary-500 rounded-md transition-colors duration-300 transform hover:bg-primary-400 focus:outline-none focus:ring focus:ring-primary-300 focus:ring-opacity-80" %>
  </div>
</div>

<div class="mt-8 p-5 bg-secondary-500 rounded-md grid gap-y-4 grid-cols-1 md:grid-cols-3 md:gap-x-8">
  <div class="space-y-4">
    <% if @recipe.photo.attached? %>
      <%= cl_image_tag @recipe.photo, class: "w-full h-80 object-cover rounded-md" %>
    <% else %>
      <%= image_tag "image-placeholder.svg", class: "w-full h-80 object-cover rounded-md" %>
    <% end %>
  </div>
  <div class="col-span-2 space-y-4">
    <div class="space-y-2">
      <h2 class="text-xl font-bold text-gray-800"><%= t('.meal_type') %></h2>
      <div class="flex gap-2">
        <span class="px-3 py-1 text-sm text-primary-500 bg-primary-50 rounded-md">
          <%= Recipe.human_attribute_name("meal_type.#{@recipe.meal_type}") %>
        </span>
      </div>
    </div>

    <div class="space-y-2">
      <h2 class="text-xl font-bold text-gray-800"><%= t('.ingredients') %></h2>
      <div class="flex gap-2">
        <% if @recipe.ingredients.any? %>
          <ul class="list-disc list-inside">
            <% @recipe.ingredients.each do |ingredient| %>
              <li class="text-gray-800">
                <% if ingredient.quantity && ingredient.unit %>
                  <%= "#{ingredient.name} - #{ingredient.quantity.round == ingredient.quantity ? ingredient.quantity.round : ingredient.quantity} #{ingredient.unit}" %>
                <% elsif ingredient.quantity %>
                  <%= "#{ingredient.name} - #{ingredient.quantity.round == ingredient.quantity ? ingredient.quantity.round : ingredient.quantity}" %>
                <% else %>
                  <%= ingredient.name %>
                <% end %>
              </li>
            <% end %>
          </ul>
        <% else %>
          <p class="text-gray-500"><%= t('.no_ingredients') %></p>
        <% end %>
      </div>
    </div>

    <div class="space-y-2">
      <h2 class="text-xl font-bold text-gray-800"><%= t('.description') %></h2>
        <% if @recipe.description.present? %>
          <p class="text-gray-800"><%= @recipe.description %></p>
        <% else %>
          <p class="text-gray-500"><%= t('.no_description') %></p>
        <% end %>
      </p>
    </div>
  </div>
</div>
