<div class="flex flex-col justify-between md:flex-row md:items-center px-4 pt-4 pb-12 bg-primary-500">
  <%= render partial: 'shared/page_name', locals: { title: @recipe.name } %>

  <div class="fixed bottom-12 -ml-4 w-full flex justify-center md:relative md:bottom-0 md:right-0 md:w-auto md:flex-col md:items-start md:gap-4">
    <%= link_to t('.btn-primary'), edit_family_recipe_path(@recipe), class: "inline-block px-4 py-2 w-4/5 md:w-auto text-center text-white md:text-primary-500 bg-primary-500 md:bg-white rounded-md transition-colors duration-300 transform hover:bg-primary-400 md:hover:bg-slate-100 focus:outline-none focus:ring focus:ring-primary-300 focus:ring-opacity-80" %>
  </div>
</div>

<div class="p-4 relative -top-8 rounded-[24px] bg-white">
  <div class="p-5 bg-slate-100 rounded-md grid gap-y-4 grid-cols-1 md:grid-cols-3 md:gap-x-8">
    <div class="space-y-4">
      <% if @recipe.photo.attached? %>
        <%= cl_image_tag @recipe.photo, class: "w-full h-80 object-cover rounded-md" %>
      <% else %>
        <%= image_tag "image-placeholder.svg", class: "w-full h-80 object-cover rounded-md" %>
      <% end %>
    </div>
    <div class="col-span-2 space-y-4">
      <div class="space-y-2">
        <h2 class="text-xl font-bold text-gray-800"><%= t('.recipe_type') %></h2>
        <div class="flex gap-2">
          <span class="px-3 py-1 text-sm text-primary-500 bg-primary-50 rounded-md">
            <%= Recipe.human_attribute_name("recipe_type.#{@recipe.recipe_type}") %>
          </span>
        </div>
      </div>

      <div class="space-y-2">
        <h2 class="text-xl font-bold text-gray-800"><%= t('.ingredients') %></h2>
        <div class="flex gap-2">
          <% if @recipe.ingredients.any? %>
            <ul class="list-disc list-inside">
              <% @recipe.ingredients.each do |ingredient| %>
                <li class="text-gray-800">
                  <% if ingredient.quantity && ingredient.unit %>
                    <%= "#{ingredient.name} - #{ingredient.quantity.round == ingredient.quantity ? ingredient.quantity.round : ingredient.quantity} #{ingredient.unit}" %>
                  <% elsif ingredient.quantity %>
                    <%= "#{ingredient.name} - #{ingredient.quantity.round == ingredient.quantity ? ingredient.quantity.round : ingredient.quantity}" %>
                  <% else %>
                    <%= ingredient.name %>
                  <% end %>
                </li>
              <% end %>
            </ul>
          <% else %>
            <p class="text-gray-500"><%= t('.no_ingredients') %></p>
          <% end %>
        </div>
      </div>

      <div class="space-y-2">
        <h2 class="text-xl font-bold text-gray-800"><%= t('.description') %></h2>
          <% if @recipe.description.present? %>
            <p class="text-gray-800"><%= @recipe.description %></p>
          <% else %>
            <p class="text-gray-500"><%= t('.no_description') %></p>
          <% end %>
        </p>
      </div>
    </div>
  </div>
</div>
