<div class="max-w-2xl p-5 bg-white shadow-xs rounded-lg">
  <%= simple_form_for [@recipe.family, @recipe] do |f| %>
    <%= f.input :name %>
    <%= f.input :meal_type, as: :radio_buttons, collection: Recipe.meal_types.keys.map {|type| Recipe.human_attribute_name("meal_type.#{type}")} %>
    <%= f.input :description %>
    <%= f.input :photo, as: :file, hint: t('recipes.new.photo_hint') %>
    <p class="mb-4 font-bold text-lg text-gray-800"><%= 'Ajouter des ingrÃ©dients' %></p>
    <%= f.simple_fields_for :ingredients do |i| %>
      <div class="mb-4" data-controller="ingredients-form">
        <div data-ingredients-form-target="fieldsContainer">
          <fieldset id="0">
            <%= i.input :name %>
            <div class="flex gap-4">
              <%= i.input :quantity %>
              <%= i.input :unit %>
            </div>
          <% end %>
          </fieldset>
        </div>
        <button class="inline-block mb-4 px-4 py-2 font-bold text-orange-500 bg-white rounded-lg border border-orange-500 transition-colors duration-300 transform hover:bg-gray-100 focus:outline-none focus:ring focus:ring-orange-300 focus:ring-opacity-80"
                data-action="click->ingredients-form#addField">
          <%= t('recipes.new.add_ingredient') %>
        </button>
      </div>
    <%= f.button :submit %>
  <% end %>
</div>
